<section class="relative bg-gray-50 pt-16 pb-20 px-4 sm:px-6 lg:pt-24 lg:pb-22 lg:px-8"
x-data="{ experience: [], experienceOpen: false }" @keydown.window.escape="expertiseOpen = false; experienceOpen = false;"
>
<div x-text="experience"></div>
    <div class="{% include 'symbols/container.class' %}">

        <div class="flex items-center justify-between" >



            <div class="flex items-baseline space-x-8">

                <div id="menu" class="relative z-10 inline-block text-left"
                     x-data="Components.popover({ open: false, focus: false })" x-init="init()"
                     @keydown.escape="onEscape" @close-popover-group.window="onClosePopoverGroup">
                    <div>
                        <button type="button"
                                class="group inline-flex items-center justify-center text-sm font-medium text-gray-700 hover:text-gray-900"
                                @click="toggle" @mousedown="if (open) $event.preventDefault()" aria-expanded="false"
                                :aria-expanded="open.toString()">
                            <span>Area of expertise</span>
                            <span class="ml-1.5 rounded py-0.5 px-1.5 bg-gray-200 text-xs font-semibold text-gray-700 tabular-nums">1</span>
                            <svg class="flex-shrink-0 -mr-1 ml-1 h-5 w-5 text-gray-400 group-hover:text-gray-500"
                                 x-description="Heroicon name: solid/chevron-down" xmlns="http://www.w3.org/2000/svg"
                                 viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd"
                                      d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                      clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                    <div x-show="open" x-transition:enter="transition ease-out duration-100"
                         x-transition:enter-start="transform opacity-0 scale-95"
                         x-transition:enter-end="transform opacity-100 scale-100"
                         x-transition:leave="transition ease-in duration-75"
                         x-transition:leave-start="transform opacity-100 scale-100"
                         x-transition:leave-end="transform opacity-0 scale-95"
                         class="origin-top-right absolute right-0 mt-2 bg-white rounded-md shadow-2xl p-4 ring-1 ring-black ring-opacity-5 focus:outline-none"
                         x-ref="panel" @click.away="open = false" style="display: none;">
                        <form class="space-y-4">
                            {% for category in staff_categories %}
                            <div class="flex items-center">
                                <input id="category{{ category.id }}" name="category" value="{{ category.id }}" type="checkbox"
                                       class="h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500">
                                <label for="category{{ category.id }}"
                                       class="ml-3 pr-6 text-sm font-medium text-gray-900 whitespace-nowrap">
                                    {{ category.name }}
                                </label>
                            </div>
                            {% endfor %}
                        </form>
                    </div>
                </div>

                <div id="menu" class="relative z-10 inline-block text-left"

                    >
                    <div>
                        <button type="button"
                                class="group inline-flex items-center justify-center text-sm font-medium text-gray-700 hover:text-gray-900"
                                @click="experienceOpen = !experienceOpen"  aria-expanded="false"
                                :aria-expanded="experienceOpen.toString()">
                            <span>Experience</span>
                            <svg class="flex-shrink-0 -mr-1 ml-1 h-5 w-5 text-gray-400 group-hover:text-gray-500"
                                 x-description="Heroicon name: solid/chevron-down" xmlns="http://www.w3.org/2000/svg"
                                 viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd"
                                      d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                      clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                    <div x-show="experienceOpen" x-transition:enter="transition ease-out duration-100"
                         x-transition:enter-start="transform opacity-0 scale-95"
                         x-transition:enter-end="transform opacity-100 scale-100"
                         x-transition:leave="transition ease-in duration-75"
                         x-transition:leave-start="transform opacity-100 scale-100"
                         x-transition:leave-end="transform opacity-0 scale-95"
                         class="origin-top-right absolute right-0 mt-2 bg-white rounded-md shadow-2xl p-4 ring-1 ring-black ring-opacity-5 focus:outline-none"
                         x-ref="panel" @click.away="experienceOpen = false" style="display: none;">
                        <form class="space-y-4">
                            {% for choice in experience_choices %}
                            <div class="flex items-center">
                                <input id="experience{{ choice.0 }}" x-model="experience" name="experience" value="experience{{ choice.0 }}" type="checkbox"
                                       class="h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500">
                                <label for="experience{{ choice.0 }}"
                                       class="ml-3 pr-6 text-sm font-medium text-gray-900 whitespace-nowrap">
                                    {{ choice.1 }}
                                </label>
                            </div>
                            {% endfor %}
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-12 max-w-lg mx-auto grid gap-5 lg:grid-cols-3 lg:max-w-none">
            {% for applicant in applicants %}
                <div class="flex flex-col rounded-lg shadow-lg overflow-hidden">
                    <div class="flex-1 bg-white p-6 flex flex-col justify-between">
                        <div class="flex-1">
                            <a href="{% url 'frontend:submit_a_position' %}" class="block mt-2">
                                <p class="text-xl font-semibold text-gray-900">{{ applicant.name }}</p>
                                <p class="mt-3 text-base text-gray-500">
                                    <span class="font-semibold">Age:</span> {{ applicant.age }}<br>
                                    <span class="font-semibold">Working Experience:</span> {{ applicant.get_experience_display }}<br>
                                    <span class="font-semibold">Areas of Expertise:</span> {{ applicant.department }}<br>
                                    <span class="font-semibold">Last position:</span> {{ applicant.position }}
                                </p>
                            </a>
                        </div>
                        {#                    <div class="mt-6 flex items-center">#}
                        {#                        <div class="flex-shrink-0">#}
                        {#                            <a href="#">#}
                        {#                                <span class="sr-only">Roel Aufderehar</span>#}
                        {#                                <img class="h-10 w-10 rounded-full"#}
                        {#                                     src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"#}
                        {#                                     alt="">#}
                        {#                            </a>#}
                        {#                        </div>#}
                        {#                        <div class="ml-3">#}
                        {#                            <p class="text-sm font-medium text-gray-900">#}
                        {#                                <a href="#" class="hover:underline"> Roel Aufderehar </a>#}
                        {#                            </p>#}
                        {#                            <div class="flex space-x-1 text-sm text-gray-500">#}
                        {#                                <time datetime="2020-03-16"> Mar 16, 2020</time>#}
                        {#                                <span aria-hidden="true"> &middot; </span>#}
                        {#                                <span> 6 min read </span>#}
                        {#                            </div>#}
                        {#                        </div>#}
                        {#                    </div>#}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>


<script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('dropdown', () => ({
            open: false,
            toggle() {
                this.open = ! this.open
            }
        }))
    })
</script>